<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>ArxonMC</title>
  <link rel="stylesheet" href="style.css">

  <style>
    /* saÄŸ Ã¼st kullanÄ±cÄ± paneli */
    .top-buttons {
      position: fixed;
      top: 20px;
      right: 25px;
      display: none;
      gap: 12px;
      z-index: 9999;
    }

    .top-buttons span,
    .top-buttons a {
      padding: 10px 16px;
      border-radius: 16px;
      font-weight: bold;
      text-decoration: none;
      backdrop-filter: blur(10px);
      background: rgba(255,255,255,0.15);
      color: white;
      cursor: pointer;
    }

    .top-buttons a {
      background: linear-gradient(135deg, #ff5f6d, #ffc371);
      color: black;
    }
  </style>
</head>

<body>

<!-- KULLANICI PANELÄ° -->
<div class="top-buttons" id="userPanel">
  <span id="userInfo"></span>
  <a onclick="logout()">ðŸšª Logout</a>
</div>

<h1>ðŸ”¥ ArxonMC Network ðŸ”¥</h1>

<div class="card">
  <p><b>IP:</b> 193.164.4.244</p>

  <div class="status">
    <b>Sunucu:</b> <span id="status-text">Kontrol ediliyor...</span><br>
    Oyuncu: <span id="player-count">-</span>
  </div>

  <a href="magaza.html">
    <button>ðŸ›’ MaÄŸaza</button>
  </a>
</div>

<script>
const ip = "193.164.4.244";
const port = "";

// LOGIN OLAN KULLANICI
const currentUser = localStorage.getItem("loginUser");

// PROFÄ°L + LOGOUT GÃ–STER
if (currentUser) {
  document.getElementById("userPanel").style.display = "flex";
  document.getElementById("userInfo").innerText = "ðŸ‘¤ " + currentUser;
}

// LOGOUT
function logout() {
  localStorage.removeItem("loginUser");
  location.reload();
}

// SERVER DURUMU
async function checkServer() {
  try {
    const res = await fetch(
      `https://api.mcstatus.io/v2/status/java/${ip}`,
      { cache: "no-store" }
    );
    const data = await res.json();

    if (data.online) {
      document.getElementById("status-text").innerHTML = "ðŸŸ¢ AÃ‡IK";
      document.getElementById("player-count").innerText =
        data.players.online + " / " + data.players.max;
    } else {
      document.getElementById("status-text").innerHTML = "ðŸ”´ KAPALI";
      document.getElementById("player-count").innerText = "0";
    }
  } catch {
    document.getElementById("status-text").innerHTML = "ðŸ”´ KAPALI";
    document.getElementById("player-count").innerText = "0";
  }
}

checkServer();
setInterval(checkServer, 15000);
</script>

</body>
</html>
