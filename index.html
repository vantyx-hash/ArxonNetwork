<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>RED PRO | ULTIMATE HUB</title>
    <style>
        :root { --red: #ff0000; --bg: #050000; --gold: #ffd700; --dark: #080808; }
        body, html { margin: 0; padding: 0; background: var(--bg); color: white; font-family: 'Arial Black', sans-serif; overflow: hidden; }

        /* NAVBAR */
        nav { display: flex; justify-content: space-between; align-items: center; padding: 15px 5%; background: rgba(0,0,0,0.95); border-bottom: 2px solid var(--red); position: fixed; width: 90%; top:0; z-index: 1000; }
        .nav-links span { margin: 0 15px; cursor: pointer; font-weight: bold; text-transform: uppercase; font-size: 13px; transition: 0.3s; }
        .nav-links span:hover { color: var(--red); text-shadow: 0 0 10px var(--red); }

        /* MERKEZÄ° TASARIM */
        .hero { height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
        .hero h1 { font-size: 8rem; margin: 0; letter-spacing: -5px; line-height: 0.8; }
        .hero h1 span { color: var(--red); text-shadow: 0 0 40px var(--red); }
        .hero p { color: #444; letter-spacing: 10px; font-weight: bold; margin-top: 20px; text-transform: uppercase; }

        /* MODALLAR */
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.98); display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 9999; }
        .window { width: 750px; padding: 30px; border: 1px solid var(--red); background: var(--dark); text-align: center; box-shadow: 0 0 50px rgba(255,0,0,0.2); position: relative; }

        /* SOSYAL & LOBÄ° PANELÄ° */
        .split-box { display: flex; height: 400px; gap: 15px; margin-top: 15px; }
        .side-list { width: 220px; background: #000; border: 1px solid #222; overflow-y: auto; padding: 10px; text-align: left; }
        .main-content { flex: 1; display: flex; flex-direction: column; background: #000; border: 1px solid #222; }
        #chat-msgs { flex: 1; overflow-y: auto; padding: 15px; text-align: left; border-bottom: 1px solid #222; font-family: sans-serif; font-size: 14px; }

        /* BUTONLAR */
        .btn { padding: 12px 25px; border: 1px solid var(--red); background: transparent; color: white; cursor: pointer; font-weight: bold; margin: 5px; transition: 0.2s; }
        .btn:hover { background: var(--red); box-shadow: 0 0 20px var(--red); }
        .admin-btn { border-color: var(--gold); color: var(--gold); }
        input, select { width: 100%; padding: 12px; margin: 8px 0; background: #111; border: 1px solid #333; color: white; box-sizing: border-box; }

        /* SES KONTROL BAR */
        .audio-controls { display: flex; gap: 10px; justify-content: center; padding: 15px; background: #111; border-top: 1px solid #222; }
        .icon-btn { background: #222; border: 1px solid #444; color: white; padding: 10px; cursor: pointer; border-radius: 4px; font-size: 18px; }
        .icon-btn.active { background: var(--red); border-color: white; }

        .item-row { padding: 12px; background: #0a0a0a; margin-bottom: 8px; border-left: 4px solid var(--red); display: flex; justify-content: space-between; align-items: center; }
        .admin-tag { color: var(--gold); border: 1px solid var(--gold); padding: 2px 6px; font-size: 10px; margin-left: 8px; vertical-align: middle; }
    </style>
</head>
<body>

<nav>
    <div style="font-size: 26px; font-weight: bold;">RED<span style="color:var(--red)">PRO</span></div>
    <div class="nav-links">
        <span onclick="openV('shop')">MAÄžAZA</span>
        <span onclick="openV('friends')">ARKADAÅžLAR</span>
        <span onclick="openV('lobbies')">LOBÄ°LER</span>
        <span id="adm-link" style="display:none; color:var(--gold)" onclick="openV('admin')">ADMIN</span>
        <span id="u-display" style="color:var(--red)"></span>
        <button id="login-nav" class="btn" style="padding: 5px 12px;" onclick="openV('login')">GÄ°RÄ°Åž</button>
    </div>
</nav>

<div class="hero">
    <h1>RED<span>PRO</span></h1>
    <p>SYVEX & TANRIMBENÄ°BAÅžTANYARATSIN NETWORK</p>
    <div style="margin-top: 40px;">
        <button class="btn" onclick="openV('lobbies')">LOBÄ° SÄ°STEMÄ°</button>
        <button class="btn" style="border-color:white" onclick="openV('friends')">ARKADAÅž LÄ°STESÄ°</button>
    </div>
</div>

<div id="v-shop" class="overlay">
    <div class="window">
        <h2 style="color:var(--red)">PREMIUM HÄ°LELER</h2>
        <div class="item-row"><span>ExLoader Premium</span> <button class="btn" onclick="window.location.href='#'">Ä°NDÄ°R</button></div>
        <div class="item-row"><span>SharkHack Legit</span> <button class="btn" onclick="window.location.href='#'">Ä°NDÄ°R</button></div>
        <button class="btn" onclick="closeV()">KAPAT</button>
    </div>
</div>

<div id="v-friends" class="overlay">
    <div class="window">
        <h2>ARKADAÅžLARIM</h2>
        <input type="text" id="friend-in" placeholder="ArkadaÅŸÄ±nÄ±n adÄ±nÄ± yaz...">
        <button class="btn" onclick="addFriend()">ARKADAÅž EKLE</button>
        <div id="friend-list" style="max-height: 250px; overflow-y: auto; margin-top: 15px;"></div>
        <button class="btn" onclick="closeV()">KAPAT</button>
    </div>
</div>

<div id="v-lobbies" class="overlay">
    <div class="window">
        <h2 style="color:var(--red)">AKTÄ°F LOBÄ°LER</h2>
        <div id="lobby-list" style="max-height: 300px; overflow-y: auto; margin-bottom: 10px;"></div>
        <button class="btn" onclick="openV('create')">+ LOBÄ° OLUÅžTUR</button>
        <button class="btn" onclick="closeV()">KAPAT</button>
    </div>
</div>

<div id="v-hub" class="overlay">
    <div class="window" style="width: 850px;">
        <h3 id="cur-lobby-title" style="color:var(--red); margin:0;">LOBÄ° EKRANI</h3>
        <div class="split-box">
            <div class="side-list" id="player-list"></div>
            <div class="main-content">
                <div id="chat-msgs"></div>
                <div style="display:flex; padding:10px; gap:5px;">
                    <input type="text" id="chat-in" placeholder="Mesaj yaz..." onkeypress="if(event.key=='Enter') sendChat()">
                    <button class="btn" style="width:auto" onclick="sendChat()">></button>
                </div>
            </div>
        </div>
        <div class="audio-controls">
            <select id="out-dev" style="width:180px;"><option>Ã‡Ä±kÄ±ÅŸ: HoparlÃ¶r</option><option>Ã‡Ä±kÄ±ÅŸ: KulaklÄ±k</option></select>
            <button class="icon-btn" id="m-btn" onclick="this.classList.toggle('active')">ðŸŽ¤</button>
            <button class="icon-btn" id="d-btn" onclick="this.classList.toggle('active')">ðŸŽ§</button>
            <button class="btn" style="border-color:gray" onclick="closeV()">AYRIL</button>
        </div>
    </div>
</div>

<div id="v-admin" class="overlay">
    <div class="window">
        <h2 style="color:var(--gold)">KURUCU PANELÄ°</h2>
        <button class="btn admin-btn" style="width:100%" onclick="clearLobbies()">LOBÄ°LERÄ° SIFIRLA</button>
        <button class="btn" onclick="closeV()">KAPAT</button>
    </div>
</div>

<div id="v-login" class="overlay"><div class="window"><h2>SÄ°STEME BAÄžLAN</h2><input id="u-in" placeholder="Nick..."><button class="btn" onclick="doLogin()">GÄ°RÄ°Åž</button></div></div>
<div id="v-create" class="overlay"><div class="window"><h2>LOBÄ° KUR</h2><input id="l-in" placeholder="Lobi Ä°smi..."><button class="btn" onclick="doCreate()">YAYINLA</button></div></div>

<script>
    const ADMINS = ["syvex", "tanrÄ±mbenibaÅŸtanyaratsÄ±n"];

    function openV(id) { 
        closeV(); 
        document.getElementById('v-'+id).style.display='flex'; 
        if(id==='lobbies') renderLobbies();
        if(id==='friends') renderFriends();
    }
    function closeV() { document.querySelectorAll('.overlay').forEach(e=>e.style.display='none'); }

    // LOBÄ° SYNC
    function doCreate() {
        let n = document.getElementById('l-in').value; if(!n) return;
        let l = JSON.parse(localStorage.getItem('RED_LOBBIES') || "[]");
        l.push({ name: n, host: localStorage.getItem('user'), id: Date.now() });
        localStorage.setItem('RED_LOBBIES', JSON.stringify(l));
        openV('lobbies');
    }

    function renderLobbies() {
        const div = document.getElementById('lobby-list'); div.innerHTML = "";
        let l = JSON.parse(localStorage.getItem('RED_LOBBIES') || "[]");
        l.forEach((item, i) => {
            let isAdmin = ADMINS.includes(localStorage.getItem('user').toLowerCase()) || item.host === localStorage.getItem('user');
            div.innerHTML += `<div class="item-row">
                <span><b>${item.name}</b> <small>(${item.host})</small></span>
                <div>
                    <button class="btn" style="padding:4px 10px" onclick="joinLobby('${item.name}')">KATIL</button>
                    ${isAdmin ? `<button class="btn admin-btn" style="padding:4px 10px" onclick="delLobby(${i})">SÄ°L</button>` : ''}
                </div>
            </div>`;
        });
    }

    function joinLobby(name) {
        openV('hub');
        document.getElementById('cur-lobby-title').innerText = "LOBÄ°: " + name;
        document.getElementById('player-list').innerHTML = `<div style="padding:10px; border-bottom:1px solid #222">ðŸŸ¢ ${localStorage.getItem('user')} (Sen)</div>`;
    }

    // ARKADAÅžLIK SÄ°STEMÄ°
    function addFriend() {
        let n = document.getElementById('friend-in').value; if(!n) return;
        let f = JSON.parse(localStorage.getItem('RED_FRIENDS') || "[]");
        if(!f.includes(n)) f.push(n);
        localStorage.setItem('RED_FRIENDS', JSON.stringify(f));
        renderFriends();
    }

    function renderFriends() {
        const div = document.getElementById('friend-list'); div.innerHTML = "";
        let f = JSON.parse(localStorage.getItem('RED_FRIENDS') || "[]");
        f.forEach(name => {
            div.innerHTML += `<div class="item-row"><span>${name}</span> <span style="color:lime; font-size:10px;">Ã‡EVRÄ°MÄ°Ã‡Ä°</span></div>`;
        });
    }

    function delLobby(i) {
        let l = JSON.parse(localStorage.getItem('RED_LOBBIES'));
        l.splice(i, 1);
        localStorage.setItem('RED_LOBBIES', JSON.stringify(l));
        renderLobbies();
    }

    function clearLobbies() { localStorage.setItem('RED_LOBBIES', "[]"); renderLobbies(); }

    function sendChat() {
        let i = document.getElementById('chat-in'); if(!i.value) return;
        document.getElementById('chat-msgs').innerHTML += `<div><b style="color:var(--red)">${localStorage.getItem('user')}:</b> ${i.value}</div>`;
        i.value = "";
    }

    function doLogin() {
        let u = document.getElementById('u-in').value; if(!u) return;
        localStorage.setItem('user', u);
        localStorage.setItem('isLogged', 'true');
        location.reload();
    }

    window.onload = () => {
        if(localStorage.getItem('isLogged')) {
            let u = localStorage.getItem('user');
            document.getElementById('login-nav').style.display = 'none';
            document.getElementById('u-display').innerText = u;
            if(ADMINS.includes(u.toLowerCase())) {
                document.getElementById('adm-link').style.display = 'inline';
                document.getElementById('u-display').innerHTML += ' <span class="admin-tag">KURUCU</span>';
            }
        }
    };

    // SYNC MOTORU: Lobi listesini her saniye arka planda tazeler
    setInterval(() => { if(document.getElementById('v-lobbies').style.display === 'flex') renderLobbies(); }, 1000);
</script>
</body>
</html>
